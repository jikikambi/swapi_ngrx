

<div class="p-6 space-y-8">
  @if (film(); as f) {
    <h1 class="text-3xl font-bold">{{ f.title }}</h1>
    <p class="text-gray-500">Episode {{ f.episode_id }} | {{ f.release_date }}</p>
    <p class="mt-4">{{ f.opening_crawl }}</p>

    
    <div class="flex gap-4 my-4">
      <button
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700"
        (click)="expandAll()"
      >
        Expand All
      </button>
      <button
        class="px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700"
        (click)="collapseAll()"
      >
        Collapse All
      </button>
    </div>

    @for (section of sections; track section.title) {
      <section class="border rounded-lg shadow overflow-hidden">
        <button
          class="w-full flex justify-between items-center p-3 bg-gray-200 hover:bg-gray-300"
          (click)="toggleSection(section)"
        >
          <span class="font-semibold text-lg">{{ section.title }}</span>
          <span>{{ section.expanded ? '−' : '+' }}</span>
        </button>

        <div
          [@expandCollapse]="section.expanded ? 'expanded' : 'collapsed'"
          class="overflow-hidden"
        >
          <div class="p-4 grid grid-cols-2 md:grid-cols-4 gap-4">
            @for (item of section.data(); track item.url) {
              <div
                class="p-3 bg-gray-100 rounded"
                [class.cursor-pointer]="section.clickable"
                (click)="section.clickable && goToDetail(section.type, item)"
              >
                {{ item.name || item.title }}
              </div>
            }
          </div>
        </div>
      </section>
    }
  }
</div>

<router-outlet></router-outlet>


<!-- <div class="p-6 space-y-8">
  @if (film(); as f) {
    <h1 class="text-3xl font-bold">{{ f.title }}</h1>
    <p class="text-gray-500">Episode {{ f.episode_id }} | {{ f.release_date }}</p>
    <p class="mt-4">{{ f.opening_crawl }}</p>

    @for (section of sections; track section.title) {
      <section class="border rounded-lg shadow-sm">
        <button
          type="button"
          class="w-full flex justify-between items-center px-4 py-3 text-left text-lg font-semibold bg-gray-100 hover:bg-gray-200 rounded-t-lg"
          (click)="section.expanded = !section.expanded"
        >
          <span>{{ section.title }}</span>
          <span class="text-gray-500">
            {{ section.expanded ? "▲" : "▼" }}
          </span>
        </button>

        @if (section.expanded) {
          <div class="p-4 grid grid-cols-2 md:grid-cols-4 gap-4">
            @for (item of section.data(); track item.url) {
              <div
                class="p-3 bg-gray-50 rounded border hover:shadow cursor-pointer transition"
                [class.cursor-pointer]="section.clickable"
                (click)="section.clickable && goToDetail(section.type, item)"
              >
                {{ item.name || item.title }}
              </div>
            }
          </div>
        }
      </section>
    }
  }
</div>

<router-outlet></router-outlet> -->


<!-- <div class="p-6 space-y-8">
  @if (film(); as f) {
    <h1 class="text-3xl font-bold">{{ f.title }}</h1>
    <p class="text-gray-500">Episode {{ f.episode_id }} | {{ f.release_date }}</p>
    <p class="mt-4">{{ f.opening_crawl }}</p>

     @for (section of sections; track section.title) {
      <section>
        <h2 class="text-2xl font-semibold mb-2">{{ section.title }}</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          @for (item of section.data(); track item.url) {
            <div
              class="p-3 bg-gray-100 rounded"
              [class.cursor-pointer]="section.clickable"
              (click)="section.clickable && goToDetail(section.type, item)"
            >
              {{ item.name || item.title }}
            </div>
          }
        </div>
      </section>
    }
  }
</div>

<router-outlet></router-outlet> -->